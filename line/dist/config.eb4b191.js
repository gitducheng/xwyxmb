/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{319:function(t,e,n){var content=n(353);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(67).default)("2757e969",content,!0,{sourceMap:!1})},320:function(t,e,n){var r=n(12);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},325:function(t,e,n){"use strict";var strong=n(326),r=n(320);t.exports=n(327)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return strong.def(r(this,"Set"),t=0===t?0:t,t)}},strong)},326:function(t,e,n){"use strict";var r=n(11).f,o=n(129),c=n(187),l=n(34),d=n(185),f=n(186),h=n(133),m=n(190),v=n(135),x=n(8),y=n(184).fastKey,_=n(320),k=x?"_s":"size",w=function(t,e){var n,r=y(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,h){var m=t((function(t,r){d(t,m,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[k]=0,null!=r&&f(r,n,t[h],t)}));return c(m.prototype,{clear:function(){for(var t=_(this,e),data=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete data[n.i];t._f=t._l=void 0,t[k]=0},delete:function(t){var n=_(this,e),r=w(n,t);if(r){var o=r.n,c=r.p;delete n._i[r.i],r.r=!0,c&&(c.n=o),o&&(o.p=c),n._f==r&&(n._f=o),n._l==r&&(n._l=c),n[k]--}return!!r},forEach:function(t){_(this,e);for(var n,r=l(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!w(_(this,e),t)}}),x&&r(m.prototype,"size",{get:function(){return _(this,e)[k]}}),m},def:function(t,e,n){var r,o,c=w(t,e);return c?c.v=n:(t._l=c={i:o=y(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=c),r&&(r.n=c),t[k]++,"F"!==o&&(t._i[o]=c)),t},getEntry:w,setStrong:function(t,e,n){h(t,e,(function(t,n){this._t=_(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?m(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,m(1))}),n?"entries":"values",!n,!0),v(e)}}},327:function(t,e,n){"use strict";var r=n(4),o=n(6),c=n(14),l=n(187),meta=n(184),d=n(186),f=n(185),h=n(12),m=n(13),v=n(132),x=n(64),y=n(188);t.exports=function(t,e,n,_,k,w){var T=r[t],C=T,I=k?"set":"add",O=C&&C.prototype,A={},j=function(t){var e=O[t];c(O,t,"delete"==t||"has"==t?function(a){return!(w&&!h(a))&&e.call(this,0===a?0:a)}:"get"==t?function(a){return w&&!h(a)?void 0:e.call(this,0===a?0:a)}:"add"==t?function(a){return e.call(this,0===a?0:a),this}:function(a,b){return e.call(this,0===a?0:a,b),this})};if("function"==typeof C&&(w||O.forEach&&!m((function(){(new C).entries().next()})))){var E=new C,S=E[I](w?{}:-0,1)!=E,N=m((function(){E.has(1)})),L=v((function(t){new C(t)})),R=!w&&m((function(){for(var t=new C,e=5;e--;)t[I](e,e);return!t.has(-0)}));L||((C=e((function(e,n){f(e,C,t);var r=y(new T,e,C);return null!=n&&d(n,k,r[I],r),r}))).prototype=O,O.constructor=C),(N||R)&&(j("delete"),j("has"),k&&j("get")),(R||S)&&j(I),w&&O.clear&&delete O.clear}else C=_.getConstructor(e,t,k,I),l(C.prototype,n),meta.NEED=!0;return x(C,t),A[t]=C,o(o.G+o.W+o.F*(C!=T),A),w||_.setStrong(C,t,k),C}},328:function(t,e,n){"use strict";var r=n(4),o=n(23),c=n(36),l=n(188),d=n(91),f=n(13),h=n(65).f,m=n(92).f,v=n(11).f,x=n(329).trim,y=r.Number,_=y,k=y.prototype,w="Number"==c(n(129)(k)),T="trim"in String.prototype,C=function(t){var e=d(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,c=(e=T?e.trim():x(e,3)).charCodeAt(0);if(43===c||45===c){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===c){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var code,l=e.slice(2),i=0,f=l.length;i<f;i++)if((code=l.charCodeAt(i))<48||code>o)return NaN;return parseInt(l,r)}}return+e};if(!y(" 0o1")||!y("0b1")||y("+0x1")){y=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof y&&(w?f((function(){k.valueOf.call(n)})):"Number"!=c(n))?l(new _(C(e)),n,y):C(e)};for(var I,O=n(8)?h(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;O.length>A;A++)o(_,I=O[A])&&!o(y,I)&&v(y,I,m(_,I));y.prototype=k,k.constructor=y,n(14)(r,"Number",y)}},329:function(t,e,n){var r=n(6),o=n(35),c=n(13),l=n(330),d="["+l+"]",f=RegExp("^"+d+d+"*"),h=RegExp(d+d+"*$"),m=function(t,e,n){var o={},d=c((function(){return!!l[t]()||"​"!="​"[t]()})),f=o[t]=d?e(v):l[t];n&&(o[n]=f),r(r.P+r.F*d,"String",o)},v=m.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(f,"")),2&e&&(t=t.replace(h,"")),t};t.exports=m},330:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},331:function(t,e,n){t.exports=function(){"use strict";var t=function(t){var e=new XMLHttpRequest;return e.open(t.method||"GET",t.url),e.responseType="json",t.headers&&Object.keys(t.headers).forEach((function(n){e.setRequestHeader(n,t.headers[n])})),e};function e(e){return function(t,body){return new Promise((function(e,n){t.onload=function(){if(t.status>=200&&t.status<300){var r;try{r=JSON.parse(t.response)}catch(e){r=t.response}e(r)}else n(t.response)},t.onerror=function(){return n(t.response)},t.send(JSON.stringify(body))}))}(t(e),e.body)}var template,n,r,o,component,c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.file=t,this.options=e}return c(n,[{key:"createChunks",value:function(){this.chunks=[];for(var t=0,e=this.chunkSize;t<this.fileSize;)this.chunks.push({blob:this.file.file.slice(t,e),startOffset:t,active:!1,retries:this.maxRetries}),e=(t=e)+this.chunkSize}},{key:"updateFileProgress",value:function(){this.file.progress=this.progress}},{key:"pause",value:function(){this.file.active=!1,this.stopChunks()}},{key:"stopChunks",value:function(){this.chunksUploading.forEach((function(t){t.xhr.abort(),t.active=!1}))}},{key:"resume",value:function(){this.file.active=!0,this.startChunking()}},{key:"upload",value:function(){var t=this;return this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),this.start(),this.promise}},{key:"start",value:function(){var t=this;e({method:"POST",headers:Object.assign({},this.headers,{"Content-Type":"application/json"}),url:this.action,body:Object.assign(this.startBody,{phase:"start",mime_type:this.fileType,size:this.fileSize,name:this.fileName})}).then((function(e){if("success"!==e.status)return t.file.response=e,t.reject("server");t.sessionId=e.data.session_id,t.chunkSize=e.data.end_offset,t.createChunks(),t.startChunking()})).catch((function(e){t.file.response=e,t.reject("server")}))}},{key:"startChunking",value:function(){for(var i=0;i<this.maxActiveChunks;i++)this.uploadNextChunk()}},{key:"uploadNextChunk",value:function(){if(this.file.active){if(this.hasChunksToUpload)return this.uploadChunk(this.chunksToUpload[0]);if(0===this.chunksUploading.length)return this.finish()}}},{key:"uploadChunk",value:function(e){var n=this;e.progress=0,e.active=!0,this.updateFileProgress(),e.xhr=t({method:"POST",headers:this.headers,url:this.action}),e.xhr.upload.addEventListener("progress",(function(t){t.lengthComputable&&(e.progress=Math.round(t.loaded/t.total*100))}),!1),function(t,data){var body=new FormData;for(var e in data)body.append(e,data[e]);return new Promise((function(e,n){t.onload=function(){if(t.status>=200&&t.status<300){var r;try{r=JSON.parse(t.response)}catch(e){r=t.response}e(r)}else n(t.response)},t.onerror=function(){return n(t.response)},t.send(body)}))}(e.xhr,Object.assign(this.uploadBody,{phase:"upload",session_id:this.sessionId,start_offset:e.startOffset,chunk:e.blob})).then((function(t){if(e.active=!1,"success"===t.status)e.uploaded=!0;else if(e.retries--<=0)return n.stopChunks(),n.reject("upload");n.uploadNextChunk()})).catch((function(){if(e.active=!1,e.retries--<=0)return n.stopChunks(),n.reject("upload");n.uploadNextChunk()}))}},{key:"finish",value:function(){var t=this;this.updateFileProgress(),e({method:"POST",headers:Object.assign({},this.headers,{"Content-Type":"application/json"}),url:this.action,body:Object.assign(this.finishBody,{phase:"finish",session_id:this.sessionId})}).then((function(e){if(t.file.response=e,"success"!==e.status)return t.reject("server");t.resolve(e)})).catch((function(e){t.file.response=e,t.reject("server")}))}},{key:"maxRetries",get:function(){return parseInt(this.options.maxRetries)}},{key:"maxActiveChunks",get:function(){return parseInt(this.options.maxActive)}},{key:"fileType",get:function(){return this.file.type}},{key:"fileSize",get:function(){return this.file.size}},{key:"fileName",get:function(){return this.file.name}},{key:"action",get:function(){return this.options.action||null}},{key:"startBody",get:function(){return this.options.startBody||{}}},{key:"uploadBody",get:function(){return this.options.uploadBody||{}}},{key:"finishBody",get:function(){return this.options.finishBody||{}}},{key:"headers",get:function(){return this.options.headers||{}}},{key:"readyToUpload",get:function(){return!!this.chunks}},{key:"progress",get:function(){var t=this,e=this.chunksUploaded.length/this.chunks.length*100,n=this.chunksUploading.reduce((function(progress,e){return progress+(0|e.progress)/t.chunks.length}),0);return Math.min(e+n,100)}},{key:"chunksToUpload",get:function(){return this.chunks.filter((function(t){return!t.active&&!t.uploaded}))}},{key:"hasChunksToUpload",get:function(){return this.chunksToUpload.length>0}},{key:"chunksUploading",get:function(){return this.chunks.filter((function(t){return!!t.xhr&&!!t.active}))}},{key:"chunksUploaded",get:function(){return this.chunks.filter((function(t){return!!t.uploaded}))}}]),n}(),d=(template={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{attrs:{type:"file",name:t.$parent.name,id:t.$parent.inputId||t.$parent.name,accept:t.$parent.accept,capture:t.$parent.capture,disabled:t.$parent.disabled,webkitdirectory:t.$parent.directory&&t.$parent.features.directory,directory:t.$parent.directory&&t.$parent.features.directory,multiple:t.$parent.multiple&&t.$parent.features.html5},on:{change:t.change}})},staticRenderFns:[]},r=void 0,o=!1,(component=("function"==typeof(n={methods:{change:function(t){this.$parent.addInputFile(t.target),t.target.files?(t.target.value="",t.target.files.length&&!/safari/i.test(navigator.userAgent)&&(t.target.type="",t.target.type="file")):(this.$destroy(),new this.constructor({parent:this.$parent,el:this.$el}))}}})?n.options:n)||{}).render||(component.render=template.render,component.staticRenderFns=template.staticRenderFns,component._compiled=!0,o&&(component.functional=!0)),component._scopeId=r,component),f=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function m(t){if(Array.isArray(t)){for(var i=0,e=Array(t.length);i<t.length;i++)e[i]=t[i];return e}return Array.from(t)}var v={headers:{},action:"",minSize:1048576,maxActive:3,maxRetries:5,handler:l},x={components:{InputFile:d},props:{inputId:{type:String},name:{type:String,default:"file"},accept:{type:String},capture:{},disabled:{},multiple:{type:Boolean},maximum:{type:Number,default:function(){return this.multiple?0:1}},addIndex:{type:[Boolean,Number]},directory:{type:Boolean},postAction:{type:String},putAction:{type:String},customAction:{type:Function},headers:{type:Object,default:Object},data:{type:Object,default:Object},timeout:{type:Number,default:0},drop:{default:!1},dropDirectory:{type:Boolean,default:!0},size:{type:Number,default:0},extensions:{default:Array},value:{type:Array,default:Array},thread:{type:Number,default:1},chunkEnabled:{type:Boolean,default:!1},chunk:{type:Object,default:function(){return v}}},data:function(){return{files:this.value,features:{html5:!0,directory:!1,drag:!1},active:!1,dropActive:!1,uploading:0,destroy:!1}},mounted:function(){var input=document.createElement("input");if(input.type="file",input.multiple=!0,window.FormData&&input.files?("boolean"!=typeof input.webkitdirectory&&"boolean"!=typeof input.directory||(this.features.directory=!0),this.features.html5&&void 0!==input.ondrop&&(this.features.drop=!0)):this.features.html5=!1,this.maps={},this.files)for(var i=0;i<this.files.length;i++){var t=this.files[i];this.maps[t.id]=t}this.$nextTick((function(){this.$parent&&this.$parent.$forceUpdate(),this.watchDrop(this.drop)}))},beforeDestroy:function(){this.destroy=!0,this.active=!1},computed:{uploaded:function(){for(var t=void 0,i=0;i<this.files.length;i++)if((t=this.files[i]).fileObject&&!t.error&&!t.success)return!1;return!0},chunkOptions:function(){return Object.assign(v,this.chunk)},className:function(){return["file-uploads",this.features.html5?"file-uploads-html5":"file-uploads-html4",this.features.directory&&this.directory?"file-uploads-directory":void 0,this.features.drop&&this.drop?"file-uploads-drop":void 0,this.disabled?"file-uploads-disabled":void 0]}},watch:{active:function(t){this.watchActive(t)},dropActive:function(){this.$parent&&this.$parent.$forceUpdate()},drop:function(t){this.watchDrop(t)},value:function(t){if(this.files!==t){this.files=t;var e=this.maps;this.maps={};for(var i=0;i<this.files.length;i++){var n=this.files[i];this.maps[n.id]=n}for(var r in this.maps){var o=this.maps[r],c=e[r];o!==c&&this.emitFile(o,c)}for(var l in e)this.maps[l]||this.emitFile(void 0,e[l])}}},methods:{clear:function(){if(this.files.length){var t=this.files;this.files=[],this.maps={},this.emitInput();for(var i=0;i<t.length;i++)this.emitFile(void 0,t[i])}return!0},get:function(t){return!!t&&("object"===(void 0===t?"undefined":h(t))?this.maps[t.id]||!1:this.maps[t]||!1)},add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.addIndex,n=t,r=n instanceof Array;r||(n=[n]);for(var o=[],i=0;i<n.length;i++){var c=n[i];this.features.html5&&c instanceof Blob&&(c={file:c,size:c.size,name:c.webkitRelativePath||c.relativePath||c.name||"unknown",type:c.type});var l=!1;if(!1===c.fileObject||(c.fileObject||"undefined"!=typeof Element&&c.el instanceof Element||"undefined"!=typeof Blob&&c.file instanceof Blob)&&(l=!0),l&&((c=f({fileObject:!0,size:-1,name:"Filename",type:"",active:!1,error:"",success:!1,putAction:this.putAction,postAction:this.postAction,timeout:this.timeout},c,{response:{},progress:"0.00",speed:0})).data=f({},this.data,c.data?c.data:{}),c.headers=f({},this.headers,c.headers?c.headers:{})),c.id||(c.id=Math.random().toString(36).substr(2)),!this.emitFilter(c,void 0)){if(this.maximum>1&&o.length+this.files.length>=this.maximum)break;if(o.push(c),1===this.maximum)break}}if(!o.length)return!1;1===this.maximum&&this.clear();var d=void 0;if(!0===e||0===e)d=o.concat(this.files);else if(e){var h;(h=d=this.files.concat([])).splice.apply(h,[e,0].concat(o))}else d=this.files.concat(o);this.files=d;for(var m=0;m<o.length;m++){var v=o[m];this.maps[v.id]=v}this.emitInput();for(var x=0;x<o.length;x++)this.emitFile(o[x],void 0);return r?o:o[0]},addInputFile:function(t){var e=[];if(t.files)for(var i=0;i<t.files.length;i++){var n=t.files[i];e.push({size:n.size,name:n.webkitRelativePath||n.relativePath||n.name,type:n.type,file:n})}else{var r=t.value.replace(/\\/g,"/").split("/");delete t.__vuex__,e.push({name:r[r.length-1],el:t})}return this.add(e)},addDataTransfer:function(t){var e=this,n=[];if(t.items&&t.items.length){for(var r=[],i=0;i<t.items.length;i++){var o=t.items[i];(o=o.getAsEntry?o.getAsEntry()||o.getAsFile():o.webkitGetAsEntry&&o.webkitGetAsEntry()||o.getAsFile())&&r.push(o)}return new Promise((function(t,o){!function o(i){var c=r[i];if(!c||e.maximum>0&&n.length>=e.maximum)return t(e.add(n));e.getEntry(c).then((function(t){n.push.apply(n,m(t)),o(i+1)}))}(0)}))}if(t.files.length){for(var c=0;c<t.files.length&&(n.push(t.files[c]),!(this.maximum>0&&n.length>=this.maximum));c++);return Promise.resolve(this.add(n))}return Promise.resolve([])},getEntry:function(t){var e=this,path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(n,r){if(t.isFile)t.file((function(t){n([{size:t.size,name:path+t.name,type:t.type,file:t}])}));else if(t.isDirectory&&e.dropDirectory){var o=[],c=t.createReader();!function r(){c.readEntries((function(c){!function l(i){return!c[i]&&0===i||e.maximum>0&&o.length>=e.maximum?n(o):c[i]?void e.getEntry(c[i],path+t.name+"/").then((function(t){o.push.apply(o,m(t)),l(i+1)})):r()}(0)}))}()}else n([])}))},replace:function(t,e){var n=this.get(t),r=this.get(e);if(!n||!r||n===r)return!1;var o=this.files.concat([]),c=o.indexOf(n),l=o.indexOf(r);return-1!==c&&-1!==l&&(o[c]=r,o[l]=n,this.files=o,this.emitInput(),!0)},remove:function(t){var e=this.get(t);if(e){if(this.emitFilter(void 0,e))return!1;var n=this.files.concat([]),r=n.indexOf(e);if(-1===r)return console.error("remove",e),!1;n.splice(r,1),this.files=n,delete this.maps[e.id],this.emitInput(),this.emitFile(void 0,e)}return e},update:function(t,data){var e=this.get(t);if(e){var n=f({},e,data);if(!e.fileObject||!e.active||n.active||n.error||n.success||(n.error="abort"),this.emitFilter(n,e))return!1;var r=this.files.concat([]),o=r.indexOf(e);return-1===o?(console.error("update",e),!1):(r.splice(o,1,n),this.files=r,delete this.maps[e.id],this.maps[n.id]=n,this.emitInput(),this.emitFile(n,e),n)}return!1},emitFilter:function(t,e){var n=!1;return this.$emit("input-filter",t,e,(function(){return n=!0})),n},emitFile:function(t,e){this.$emit("input-file",t,e),!(t&&t.fileObject&&t.active)||e&&e.active?t&&t.fileObject&&t.active||!e||!e.fileObject||!e.active||this.uploading--:(this.uploading++,this.$nextTick((function(){var e=this;setTimeout((function(){e.upload(t).then((function(){(t=e.get(t))&&t.fileObject&&e.update(t,{active:!1,success:!t.error})})).catch((function(n){e.update(t,{active:!1,success:!1,error:n.code||n.error||n.message||n})}))}),parseInt(50*Math.random()+50,10))}))),!this.active||Boolean(t)===Boolean(e)&&t.active===e.active||this.watchActive(!0)},emitInput:function(){this.$emit("input",this.files)},upload:function(t){var e=this.get(t);if(!e)return Promise.reject("not_exists");if(!e.fileObject)return Promise.reject("file_object");if(e.error)return Promise.reject(e.error);if(e.success)return Promise.resolve(e);var n=this.extensions;if(n&&(n.length||void 0===n.length)&&("object"===(void 0===n?"undefined":h(n))&&n instanceof RegExp||("string"==typeof n&&(n=n.split(",").map((function(t){return t.trim()})).filter((function(t){return t}))),n=new RegExp("\\.("+n.join("|").replace(/\./g,"\\.")+")$","i")),-1===e.name.search(n)))return Promise.reject("extension");if(this.size>0&&e.size>=0&&e.size>this.size)return Promise.reject("size");if(this.customAction)return this.customAction(e,this);if(this.features.html5){if(this.shouldUseChunkUpload(e))return this.uploadChunk(e);if(e.putAction)return this.uploadPut(e);if(e.postAction)return this.uploadHtml5(e)}return e.postAction?this.uploadHtml4(e):Promise.reject("No action configured")},shouldUseChunkUpload:function(t){return this.chunkEnabled&&!!this.chunkOptions.handler&&t.size>this.chunkOptions.minSize},uploadChunk:function(t){var e=this.chunkOptions.handler;return t.chunk=new e(t,this.chunkOptions),t.chunk.upload()},uploadPut:function(t){var e=[],n=void 0;for(var r in t.data)null!=(n=t.data[r])&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));var o=e.length?(-1===t.putAction.indexOf("?")?"?":"&")+e.join("&"):"",c=new XMLHttpRequest;return c.open("PUT",t.putAction+o),this.uploadXhr(c,t,t.file)},uploadHtml5:function(t){var form=new window.FormData,e=void 0;for(var n in t.data)(e=t.data[n])&&"object"===(void 0===e?"undefined":h(e))&&"function"!=typeof e.toString?e instanceof File?form.append(n,e,e.name):form.append(n,JSON.stringify(e)):null!=e&&form.append(n,e);form.append(this.name,t.file,t.file.filename||t.name);var r=new XMLHttpRequest;return r.open("POST",t.postAction),this.uploadXhr(r,t,form)},uploadXhr:function(t,e,body){var n=this,r=e,o=0,c=0;t.upload.onprogress=function(t){if(r=n.get(r),t.lengthComputable&&r&&r.fileObject&&r.active){var e=Math.round(Date.now()/1e3);e!==o&&(o=e,r=n.update(r,{progress:(t.loaded/t.total*100).toFixed(2),speed:t.loaded-c}),c=t.loaded)}};var l=setInterval((function(){if(!(r=n.get(r))||!r.fileObject||r.success||r.error||!r.active){l&&(clearInterval(l),l=!1);try{t.abort(),t.timeout=1}catch(t){}}}),100);return new Promise((function(e,o){var c=void 0,d=function(d){if(!c){if(c=!0,l&&(clearInterval(l),l=!1),!(r=n.get(r)))return o("not_exists");if(!r.fileObject)return o("file_object");if(r.error)return o(r.error);if(!r.active)return o("abort");if(r.success)return e(r);var data={};switch(d.type){case"timeout":case"abort":data.error=d.type;break;case"error":t.status?t.status>=500?data.error="server":t.status>=400&&(data.error="denied"):data.error="network";break;default:t.status>=500?data.error="server":t.status>=400?data.error="denied":data.progress="100.00"}if(t.responseText){var f=t.getResponseHeader("Content-Type");f&&-1!==f.indexOf("/json")?data.response=JSON.parse(t.responseText):data.response=t.responseText}return(r=n.update(r,data)).error?o(r.error):e(r)}};for(var f in t.onload=d,t.onerror=d,t.onabort=d,t.ontimeout=d,r.timeout&&(t.timeout=r.timeout),r.headers)t.setRequestHeader(f,r.headers[f]);r=n.update(r,{xhr:t}),t.send(body)}))},uploadHtml4:function(t){var e=this,n=t,r=function(t){27===t.keyCode&&t.preventDefault()},iframe=document.createElement("iframe");iframe.id="upload-iframe-"+n.id,iframe.name="upload-iframe-"+n.id,iframe.src="about:blank",iframe.setAttribute("style","width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;");var form=document.createElement("form");form.action=n.postAction,form.name="upload-form-"+n.id,form.setAttribute("method","POST"),form.setAttribute("target","upload-iframe-"+n.id),form.setAttribute("enctype","multipart/form-data");var o=void 0,input=void 0;for(var c in n.data)(o=n.data[c])&&"object"===(void 0===o?"undefined":h(o))&&"function"!=typeof o.toString&&(o=JSON.stringify(o)),null!=o&&((input=document.createElement("input")).type="hidden",input.name=c,input.value=o,form.appendChild(input));return form.appendChild(n.el),document.body.appendChild(iframe).appendChild(form),new Promise((function(t,o){setTimeout((function(){if(!(n=e.update(n,{iframe:iframe})))return o("not_exists");var c=setInterval((function(){(n=e.get(n))&&n.fileObject&&!n.success&&!n.error&&n.active||(c&&(clearInterval(c),c=!1),iframe.onabort({type:n?"abort":"not_exists"}))}),100),l=void 0,d=function(d){if(!l){if(l=!0,c&&(clearInterval(c),c=!1),document.body.removeEventListener("keydown",r),!(n=e.get(n)))return o("not_exists");if(!n.fileObject)return o("file_object");if(n.error)return o(n.error);if(!n.active)return o("abort");if(n.success)return t(n);var f=function(){var t=void 0;try{iframe.contentWindow&&(t=iframe.contentWindow.document)}catch(t){}if(!t)try{t=iframe.contentDocument?iframe.contentDocument:iframe.document}catch(e){t=iframe.document}return t&&t.body?t.body.innerHTML:null}(),data={};switch(d.type){case"abort":data.error="abort";break;case"error":n.error?data.error=n.error:data.error=null===f?"network":"denied";break;default:n.error?data.error=n.error:null===data?data.error="network":data.progress="100.00"}if(null!==f){if(f&&"{"===f.substr(0,1)&&"}"===f.substr(f.length-1,1))try{f=JSON.parse(f)}catch(t){}data.response=f}return(n=e.update(n,data)).error?o(n.error):t(n)}};iframe.onload=d,iframe.onerror=d,iframe.onabort=d,document.body.addEventListener("keydown",r),form.submit()}),50)})).then((function(t){return iframe.parentNode&&iframe.parentNode.removeChild(iframe),t})).catch((function(t){return iframe.parentNode&&iframe.parentNode.removeChild(iframe),t}))},watchActive:function(t){for(var e=void 0,n=0;e=this.files[n];)if(n++,e.fileObject)if(t&&!this.destroy){if(this.uploading>=this.thread||this.uploading&&!this.features.html5)break;e.active||e.error||e.success||this.update(e,{active:!0})}else e.active&&this.update(e,{active:!1});0===this.uploading&&(this.active=!1)},watchDrop:function(t){var e=t;if(this.features.drop){if(this.dropElement)try{document.removeEventListener("dragenter",this.onDragenter,!1),document.removeEventListener("dragleave",this.onDragleave,!1),document.removeEventListener("drop",this.onDocumentDrop,!1),this.dropElement.removeEventListener("dragover",this.onDragover,!1),this.dropElement.removeEventListener("drop",this.onDrop,!1)}catch(t){}e?"string"==typeof e?e=document.querySelector(e)||this.$root.$el.querySelector(e):!0===e&&(e=this.$parent.$el):e=!1,this.dropElement=e,this.dropElement&&(document.addEventListener("dragenter",this.onDragenter,!1),document.addEventListener("dragleave",this.onDragleave,!1),document.addEventListener("drop",this.onDocumentDrop,!1),this.dropElement.addEventListener("dragover",this.onDragover,!1),this.dropElement.addEventListener("drop",this.onDrop,!1))}},onDragenter:function(t){if(t.preventDefault(),!this.dropActive&&t.dataTransfer){var dt=t.dataTransfer;dt.files&&dt.files.length?this.dropActive=!0:dt.types?(dt.types.indexOf&&-1!==dt.types.indexOf("Files")||dt.types.contains&&dt.types.contains("Files"))&&(this.dropActive=!0):this.dropActive=!0}},onDragleave:function(t){t.preventDefault(),this.dropActive&&("HTML"===t.target.nodeName||t.target===t.explicitOriginalTarget||!t.fromElement&&(t.clientX<=0||t.clientY<=0||t.clientX>=window.innerWidth||t.clientY>=window.innerHeight))&&(this.dropActive=!1)},onDragover:function(t){t.preventDefault()},onDocumentDrop:function(){this.dropActive=!1},onDrop:function(t){t.preventDefault(),this.addDataTransfer(t.dataTransfer)}}},y=function(template,style,script,t,e,n,r,o){var component=("function"==typeof script?script.options:script)||{};component.render||(component.render=template.render,component.staticRenderFns=template.staticRenderFns,component._compiled=!0,e&&(component.functional=!0)),component._scopeId=t;var c=void 0;if(style&&(c=function(t){style.call(this,r(t))}),void 0!==c)if(component.functional){var l=component.render;component.render=function(t,e){return c.call(e),l(t,e)}}else{var d=component.beforeCreate;component.beforeCreate=d?[].concat(d,c):[c]}return component}({render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{class:this.className},[this._t("default"),this._v(" "),e("label",{attrs:{for:this.inputId||this.name}}),this._v(" "),e("input-file")],2)},staticRenderFns:[]},(function(t){t&&t("data-v-595958af_0",{source:"\n.file-uploads{overflow:hidden;position:relative;text-align:center;display:inline-block\n}\n.file-uploads.file-uploads-html4 input,.file-uploads.file-uploads-html5 label{background:#fff;opacity:0;font-size:20em;z-index:1;top:0;left:0;right:0;bottom:0;position:absolute;width:100%;height:100%\n}\n.file-uploads.file-uploads-html4 label,.file-uploads.file-uploads-html5 input{background:rgba(255,255,255,0);overflow:hidden;position:fixed;width:1px;height:1px;z-index:-1;opacity:0\n}",map:void 0,media:void 0})}),x,void 0,!1,0,(function t(){var head=document.head||document.getElementsByTagName("head")[0],e=t.styles||(t.styles={}),n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(t,r){if(!document.querySelector('style[data-vue-ssr-id~="'+t+'"]')){var o=n?r.media||"default":t,style=e[o]||(e[o]={ids:[],parts:[],element:void 0});if(!style.ids.includes(t)){var code=r.source,c=style.ids.length;if(style.ids.push(t),r.map&&(code+="\n/*# sourceURL="+r.map.sources[0]+" */",code+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),n&&(style.element=style.element||document.querySelector("style[data-group="+o+"]")),!style.element){var l=style.element=document.createElement("style");l.type="text/css",r.media&&l.setAttribute("media",r.media),n&&(l.setAttribute("data-group",o),l.setAttribute("data-next-index","0")),head.appendChild(l)}if(n&&(c=parseInt(style.element.getAttribute("data-next-index")),style.element.setAttribute("data-next-index",c+1)),style.element.styleSheet)style.parts.push(code),style.element.styleSheet.cssText=style.parts.filter(Boolean).join("\n");else{var d=document.createTextNode(code),f=style.element.childNodes;f[c]&&style.element.removeChild(f[c]),f.length?style.element.insertBefore(d,f[c]):style.element.appendChild(d)}}}}})),_=Object.freeze({default:y});return _&&y||_}()},350:function(t,e,n){t.exports=n.p+"img/apple.ed8bdc8.jpg"},351:function(t,e,n){t.exports=n.p+"img/banana.153d28b.jpg"},352:function(t,e,n){"use strict";var r=n(319);n.n(r).a},353:function(t,e,n){(e=n(66)(!1)).push([t.i,'.root{margin:0 auto;font-family:"Microsoft Yahei"}.root__question{margin:0 auto;width:100%}.root__question-item{width:100%;overflow:hidden;padding-top:15px;height:70px;cursor:pointer}.root__image-item{height:110px;margin-top:8px;padding:0}.root__question-item:hover{background:rgba(217,223,255,.3)}.root__question-item p{padding:0 35px;min-width:600px;max-width:1000px}.root__image-item p,.root__question-item p{width:100%;overflow:hidden;margin:0 auto;position:relative}.root__image-item p{min-width:300px;max-width:650px}.root__question-time-active{background:rgba(217,223,255,.3)}.root__question-common{width:40%;height:40px;font-size:12px;line-height:40px;border:1px solid #ccc;border-radius:4px;padding-left:10px}.root__question-common input{border:none;font-size:14px;margin-left:5px;padding-left:10px;width:90%;padding-bottom:5px;background:none;cursor:pointer}.root__question-line{width:20%;margin-top:20px}.root__image-line,.root__question-line{float:left;height:1px;background:#585858}.root__image-line{width:calc(100% - 228px);margin-top:55px}.root__question-left{float:left}.root__question-right{float:right}.root__delete{width:22px;height:23px;line-height:20px;text-align:center;border-radius:50%;color:#ccc;border:1px solid #ccc;position:absolute;left:0;top:8px;font-size:18px;cursor:pointer}.root__delete:hover{background:hsla(0,0%,67.8%,.3);color:#fff}.root__delete-none{display:none}.root__bottom{position:fixed;width:100%;height:40px;min-width:450px;bottom:10px;left:0;text-align:center}.root__bottom-contnet{max-width:1000px;padding:0 100px;margin:0 auto}.root__add{display:inline-block;padding:8px 20px;background:#ffb647;font-size:12px;border-radius:110px;color:#fff;cursor:pointer}.root__add:hover{background:#ffa721}.root__title-set{font-size:16px;color:#5f5c5c;margin:20px 0;text-align:center;width:100%}.root__title-set input{color:#152c2c;border:1px solid #ccc;margin-left:5px;padding:10px;width:20%;font-family:"微软雅黑";font-size:16px}.root__default{background:#ccc;margin-right:20px}.root__default,.root__submit{float:right;padding:8px 20px;font-size:12px;border-radius:4px;color:#5f6c65;cursor:pointer}.root__submit{background:#0ed04b}.root__toggle{float:left;border-radius:110px;overflow:hidden;border:1px solid #ccc;position:relative;color:#868786}.root__toggle:after{content:"";position:absolute;left:50%;width:1px;height:40px;background:#ccc;top:0}.root__toggle span{float:left;padding:7px 13px;font-size:12px;cursor:pointer}.root__toggle-active{background:#3496ff;color:#fff}.root__toggle-active:hover{background:#1f89fb;color:#fff}.root__upload{border:1px solid #ccc;float:right;margin-bottom:20px;position:relative;overflow:hidden;border-radius:4px}.root__upload,.root__upload-set{width:110px;height:110px;cursor:pointer}.root__upload-image{width:108px;height:108px;position:absolute;left:0;top:0}.root__upload .file-uploads.file-uploads-html5 label{cursor:pointer}.root__upload-tips{position:absolute;top:45px;font-size:14px;color:#787878;right:55px;cursor:pointer}.root__image-left{float:left;height:110px;border:1px solid #ccc;border-radius:4px;cursor:pointer}.root__image-left input{border:none;font-size:14px;margin-left:5px;padding:0 10px;width:110px;background:none;line-height:110px;cursor:pointer}',""]),t.exports=e},358:function(t,e,n){"use strict";n.r(e);n(24),n(10),n(325),n(49),n(48),n(130),n(33);var r=n(2),o=(n(38),n(328),n(331)),c={components:{fileuUpload:n.n(o).a},props:{current:{type:Number,default:0}},data:function(){return{files:[]}},watch:{files:function(t){var e=this;if(!t.length||!t[0].file)return!1;var n=t[0],r=n.type;n.size,n.name;if(!{image:"img"}[(/^(.*)\//.exec(r)||[])[1]])return this.$message({message:"只支持图片哦",type:"warning"}),!1;var o=new FileReader;o.readAsDataURL(t[0].file),o.onload=function(t){e.$emit("upload",{content:t.target.result,current:e.current})}}}},l=n(41),d=Object(l.a)(c,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("fileuUpload",{staticClass:"g-upload",attrs:{name:"upload"+t.current},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}})}),[],!1,null,null,null).exports,f=n(321),h=n(322),m=n(323),v=n(324),x=(n(31),n(32),n(312),n(313)),y=n(317),_=n(315),k=n(316),w=n(314),T=n(311),C=n.n(T),I=n(318);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(w.a)(t);if(e){var o=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(k.a)(this,n)}}var A=function(t){Object(_.a)(n,t);var e=O(n);function n(t){var r;Object(x.a)(this,n),(r=e.call(this,t)).selected=[],r.isText=!1,r.rightX=800,r.distance=null,r.setAnswerQuestionsId=[],r.setAnswer=[],r.resultIds=[],r.rotationDeg=0,r.lineX=null,r.lineBase=null,r.errorIcon=null,r.repeatAnswerIndex=[],r.readyLine={isStart:!1},r.stage=null,r.temporaryQuestionsContainer=null,r.temporaryLinesContainer=null,r.temporarySelected=null,r.temporaryLinesMove=null,r.questionsLength=0,r.stage=t.stage,r.creatContainer(),r.isText="text"===t.questions.type,r.questionsLength=t.questions.left.length;var o=r.isText?5:4,c=r.isText?130:170;return r.distance=c*(o/r.questionsLength),r.initQuestion(t),r.setAnswerQuestionsId=t.answerQuestionsIds,r.setAnswer=t.answerRealIds,r.resultIds=t.resultIds,r.errorIcon=t.images.errorIcon,"panel"===t.type?Object(k.a)(r):r}return Object(y.a)(n,[{key:"creatContainer",value:function(){this.temporaryLinesContainer=new C.a.Container({x:311,y:this.isText?320-10*this.questionsLength:280-10*this.questionsLength}).addTo(this),this.temporaryQuestionsContainer=new C.a.Container({x:311,y:this.isText?320-10*this.questionsLength:280-10*this.questionsLength}).addTo(this),this.temporarySelected=new C.a.Container({x:311,y:this.isText?320-10*this.questionsLength:280-10*this.questionsLength}).addTo(this),this.temporaryLinesMove=new C.a.Container({x:0,y:0}).addTo(this)}},{key:"initQuestion",value:function(t){var e=this,rect=this.isText?[0,0,499,106]:[0,0,245,179],n=this.isText?0:265,o=this.isText?1:.8;this.lineX=n+rect[2]*o,this.lineBase=this.isText?320:360;var c=[],l=[],d=[],f=[];t.questions.left.forEach((function(r,d){c[d]=new C.a.Bitmap({x:n,y:d*e.distance,image:t.images.questionLeft,rect:rect,visible:!0,scaleX:o,scaleY:o}).addTo(e.temporaryQuestionsContainer),l[d]=new I.a({id:{realId:d,questionId:r.id},text:r.text,fontSize:e.isText?70:35,bold:!0,textAlign:"center",visible:!0,alpha:1,reTextWidth:rect[2]*o,height:rect[3]*o-(e.isText?15:50),x:n,y:d*e.distance+(e.isText?20:55),color:"#9d6c3c"}).addTo(e.temporaryQuestionsContainer)})),t.questions.right.forEach(function(){var n=Object(r.a)(regeneratorRuntime.mark((function n(r,c){var l,h,img;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:f[c]=new C.a.Bitmap({x:e.rightX,y:c*e.distance,image:t.images.questionRight,rect:rect,visible:!0,scaleX:o,scaleY:o}).addTo(e.temporaryQuestionsContainer),e.isText?d[c]=new I.a({id:{realId:c,questionId:r.id},text:r.text,fontSize:70,lineHeight:rect[3]*o,bold:!0,textAlign:"center",reTextWidth:rect[2]*o,height:rect[3]*o-15,visible:!0,alpha:1,x:e.rightX,y:c*e.distance+20,color:"#9d6c3c"}).addTo(e.temporaryQuestionsContainer):(.15,l=Math.round(.15*rect[2]),h=Math.round(.15*rect[3]),d[c]=new C.a.Container({id:{realId:c,questionId:r.id},x:e.rightX+l/2,y:c*e.distance+h/2,width:rect[2],height:rect[3],visible:!0,scaleX:1,scaleY:1}).addTo(e.temporaryQuestionsContainer),(img=new Image).src=r.text,img.onload=function(t){var e=t.path[0].width,n=t.path[0].height,l=e>n?(rect[2]-40)*o/e:(rect[3]-35)*o/n;new C.a.Bitmap({id:{realId:c,questionId:r.id},x:e>n?0:(rect[2]-80-e*l)/2,y:e>n?(rect[3]-60-n*l)/2:0,width:e*l,height:n*l,image:r.text,visible:!0}).addTo(d[c])});case 2:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}())}},{key:"onloadImage",value:function(t,e,rect,n){return new Promise((function(e,r){var img=new Image;img.src=t,img.onload=function(r){console.log(2);var o=r.path[0].width,c=r.path[0].height,l=o>c?(rect[2]-40)*n/o:(rect[3]-35)*n/c,d=new C.a.Bitmap({x:o>c?0:(rect[2]-80-o*l)/2,y:o>c?(rect[3]-60-c*l)/2:0,width:o*l,height:c*l,image:t,visible:!0});e(d)}}))}}]),n}(C.a.Container);function j(t){return E.apply(this,arguments)}function E(){return(E=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l,d,x,y,_,k,w,T,C,I,O,j,E;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(f.a)(e),r=new n,t.next=4,r.load();case 4:return o=Object(h.a)(),c=o.stage,l=o.ticker,d=r.bg,x=r.titleBg,y=new m.a({x:0,y:0,questions:e,images:{bg:d,titleBg:x},title:e.title}),_=new v.a({x:795.5,y:962,images:r.submitButton,rect:[0,0,329,96],visible:!0}),k=r.questionLeft,w=r.questionRight,T=r.errorLine,C=r.rightLine,I=r.questionsImage,O=r.errorIcon,j=r.tipsLine,E=new A({x:0,y:0,images:{questionLeft:k,questionRight:w,errorLine:T,rightLine:C,questionsImage:I,errorIcon:O,tipsLine:j},questions:e,answerQuestionsIds:[],answerRealIds:[],resultIds:[],type:"panel",stage:c,submitBtn:_}),c.addChild(y),c.addChild(_),c.addChild(E),t.abrupt("return",new Promise((function(t){l.nextTick((function(){setTimeout((function(){t(c.canvas.toDataURL("image/png"))}),1e3)}))})));case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var S={components:{Upload:d},data:function(){return{questions:{left:[{id:0,text:""},{id:1,text:""}],right:[{id:0,text:""},{id:1,text:""}]},questionsImage:{left:[{id:0,text:""},{id:1,text:""}],right:[{id:0,text:""},{id:1,text:""}]},visible:!1,target:5,isText:!0,uploadImage:"",title:"",isWaiting:!1}},computed:{questionsType:function(){return this.isText?"questions":"questionsImage"}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$testload();case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n=localStorage.getItem("questionsConfig");case 9:if(n){e.next=11;break}return e.abrupt("return");case 11:"text"===JSON.parse(n).type?t.questions=JSON.parse(n):t.questionsImage=JSON.parse(n),t.title=JSON.parse(n).title;case 13:case"end":return e.stop()}}),e,null,[[0,6]])})))()},methods:{upload:function(data){this.questionsImage.right[data.current].text=data.content},deleteQuestion:function(t){this[this.questionsType].left.splice(t,1),this[this.questionsType].right.splice(t,1)},addQuestion:function(){if(this.target=this.isText?5:4,this[this.questionsType].left.length>=this.target){var t="【".concat(this.isText?"文-文":"文-图","】模式最多支持添加").concat(this.target,"个连线组");this.$message({message:t,type:"warning"})}else{var e=this[this.questionsType].left[this[this.questionsType].left.length-1].id+1;this[this.questionsType].left.push({id:e,text:""}),this[this.questionsType].right.push({id:e,text:""})}},defalutConfig:function(){if(this.title="连线游戏",this.isText)return this.questions.left=[{id:0,text:"9 + 8"},{id:1,text:"1 + 8"}],void(this.questions.right=[{id:0,text:"17"},{id:1,text:"9"}]);this.questionsImage.left=[{id:0,text:"apple"},{id:1,text:"banana"}],this.questionsImage.right=[{id:0,text:n(350)},{id:1,text:n(351)}]},getByteLength:function(t){for(var e=t.length,n=0,i=0;i<e;i++)t.charCodeAt(i)<27||t.charCodeAt(i)>126?n+=2:n++;return n},submitConfig:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,d,f,h,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isWaiting){e.next=2;break}return e.abrupt("return");case 2:if(t[t.questionsType].left.every((function(t){return t.text}))){e.next=6;break}return t.$message({message:"题目不能为空！",type:"warning"}),e.abrupt("return");case 6:if(t[t.questionsType].right.every((function(t){return t.text}))){e.next=10;break}return t.$message({message:"答案不能为空！",type:"warning"}),e.abrupt("return");case 10:if(n="",r=t[t.questionsType].left.some((function(e,i){return t.isText?(t.getByteLength(e.text)>12&&(n=i),t.getByteLength(e.text)>12):(t.getByteLength(e.text)>10&&(n=i),t.getByteLength(e.text)>10)})),o=!!t.isText&&t[t.questionsType].right.some((function(e,i){return t.getByteLength(e.text)>12&&(n=i),t.getByteLength(e.text)>12})),!r&&!o){e.next=17;break}return c=t.isText?"六":"五",t.$message({message:"第".concat(n+1,"题不能超过").concat(c,"个汉字"),type:"warning"}),e.abrupt("return");case 17:if(t.title){e.next=20;break}return t.$message({message:"请填写标题！",type:"warning"}),e.abrupt("return");case 20:if(l=t[t.questionsType].left.map((function(t){return t.text.replace(/\s+/g,"")})),d=Array.from(new Set(l)),f=t[t.questionsType].right.map((function(t){return t.text.replace(/\s+/g,"")})),h=Array.from(new Set(f)),l.length===d.length&&f.length===h.length){e.next=27;break}return t.$message({message:"连线同侧内容不能重复",type:"warning"}),e.abrupt("return");case 27:return t[t.questionsType].type=t.isText?"text":"image",(m=t[t.questionsType]).title=t.title,e.prev=30,t.isWaiting=!0,e.next=34,j(m);case 34:return v=e.sent,e.next=37,t.$testsave(v,JSON.stringify(m));case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(30),localStorage.setItem("questionsConfig",JSON.stringify(m));case 42:t.isWaiting=!1,t.$router.replace("/");case 44:case"end":return e.stop()}}),e,null,[[30,39]])})))()},toggle:function(){this.isText=!this.isText,this.target=this.isText?5:4}}},N=(n(352),Object(l.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("h3",{staticClass:"root__title-set"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",maxlength:"6",placeholder:"请输入标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),t.isText?n("ul",{staticClass:"root__question"},t._l(t.questions.left,(function(e,r){return n("li",{key:e.id,staticClass:"root__question-item"},[n("p",[n("span",{staticClass:"root__question-left root__question-common"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"item.text"}],attrs:{type:"text",placeholder:"请输入拖动元素名称，最多支持六个汉字",maxlength:"12"},domProps:{value:e.text},on:{input:function(n){n.target.composing||t.$set(e,"text",n.target.value)}}})]),t._v(" "),n("span",{staticClass:"root__question-line"}),t._v(" "),n("span",{staticClass:"root__question-right root__question-common"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.questions.right[r].text,expression:"questions.right[index].text"}],attrs:{type:"text",placeholder:"请输入目标元素名称，最多支持六个汉字",maxlength:"12"},domProps:{value:t.questions.right[r].text},on:{input:function(e){e.target.composing||t.$set(t.questions.right[r],"text",e.target.value)}}})]),t._v(" "),n("span",{staticClass:"root__delete",class:{"root__delete-none":2===t.questions.left.length},on:{click:function(e){return t.deleteQuestion(r)}}},[t._v("x")])])])})),0):n("ul",{staticClass:"root__question"},t._l(t.questionsImage.left,(function(e,r){return n("li",{key:e.id,staticClass:"root__question-item root__image-item"},[n("p",[n("span",{staticClass:"root__image-left"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"item.text"}],attrs:{type:"text",maxlength:"10",placeholder:"请输入文字"},domProps:{value:e.text},on:{input:function(n){n.target.composing||t.$set(e,"text",n.target.value)}}})]),t._v(" "),n("span",{staticClass:"root__image-line"}),t._v(" "),n("span",{staticClass:"root__upload"},[n("Upload",{staticClass:"root__upload-set",attrs:{current:r},on:{upload:t.upload}}),t._v(" "),t.questionsImage.right[r].text?n("el-image",{staticClass:"root__upload-image",attrs:{src:t.questionsImage.right[r].text,fit:"contain"}}):t._e()],1),t._v(" "),t.questionsImage.right[r].text?t._e():n("span",{staticClass:"root__upload-tips"},[t._v("+请上传图片")]),t._v(" "),n("span",{staticClass:"root__delete",class:{"root__delete-none":2===t.questionsImage.left.length},staticStyle:{top:"44px"},on:{click:function(e){return t.deleteQuestion(r)}}},[t._v("x")])])])})),0),t._v(" "),n("div",{staticClass:"root__bottom"},[n("div",{staticClass:"root__bottom-contnet"},[n("div",{staticClass:"root__toggle"},[n("span",{class:{"root__toggle-active":t.isText},on:{click:t.toggle}},[t._v("文-文")]),t._v(" "),n("span",{class:{"root__toggle-active":!t.isText},on:{click:t.toggle}},[t._v("文-图")])]),t._v(" "),n("span",{staticClass:"root__add",on:{click:t.addQuestion}},[t._v("\n        +添加连线("+t._s(t.isText?t.questions.left.length:t.questionsImage.left.length)+"/"+t._s(t.target)+")\n      ")]),t._v(" "),n("span",{staticClass:"root__submit",on:{click:t.submitConfig}},[t._v("完成")]),t._v(" "),n("span",{staticClass:"root__default",on:{click:t.defalutConfig}},[t._v("导入范例")])])])])}),[],!1,null,null,null));e.default=N.exports}}]);